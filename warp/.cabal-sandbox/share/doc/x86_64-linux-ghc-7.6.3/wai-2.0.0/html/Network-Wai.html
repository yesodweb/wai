<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.Wai</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-Wai.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">wai-2.0.0: Web Application Interface.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Network.Wai</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types
</a></li><li><a href="#g:2">Request
</a><ul><li><a href="#g:3">Request accessors
</a></li></ul></li><li><a href="#g:4">Response
</a><ul><li><a href="#g:5">ResponseM composers
</a></li></ul></li><li><a href="#g:6">ResponseM accessors
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module defines a generic web application interface. It is a common
protocol between web servers and web applications.
</p><p>The overriding design principles here are performance and generality. To
address performance, this library is built on top of the conduit and
blaze-builder packages.  The advantages of conduits over lazy IO have been
debated elsewhere and so will not be addressed here.  However, helper functions
like <code><a href="Network-Wai.html#v:responseLBS">responseLBS</a></code> allow you to continue using lazy IO if you so desire.
</p><p>Generality is achieved by removing many variables commonly found in similar
projects that are not universal to all servers. The goal is that the <code><a href="Network-Wai.html#t:Request">Request</a></code>
object contains only data which is meaningful in all circumstances.
</p><p>Please remember when using this package that, while your application may
compile without a hitch against many different servers, there are other
considerations to be taken when moving to a new backend. For example, if you
transfer from a CGI application to a FastCGI one, you might suddenly find you
have a memory leak. Conversely, a FastCGI application would be well served to
preload all templates from disk when first starting; this would kill the
performance of a CGI application.
</p><p>This package purposely provides very little functionality. You can find various
middlewares, backends and utilities on Hackage. Some of the most commonly used
include:
</p><dl><dt>warp</dt><dd> <a href="http://hackage.haskell.org/package/warp">http://hackage.haskell.org/package/warp</a>
</dd><dt>wai-extra</dt><dd> <a href="http://hackage.haskell.org/package/wai-extra">http://hackage.haskell.org/package/wai-extra</a>
</dd><dt>wai-test</dt><dd> <a href="http://hackage.haskell.org/package/wai-test">http://hackage.haskell.org/package/wai-test</a>
</dd></dl></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Application">Application</a> = <a href="Network-Wai.html#t:ApplicationM">ApplicationM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ApplicationM">ApplicationM</a> m = <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; m (<a href="Network-Wai.html#t:ResponseM">ResponseM</a> m)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Middleware">Middleware</a> = MiddlewareM <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:RequestM">RequestM</a> m</li><li class="src short"><span class="keyword">type</span> <a href="#t:Request">Request</a> = <a href="Network-Wai.html#t:RequestM">RequestM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></li><li class="src short"><a href="#v:defaultRequest">defaultRequest</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Network-Wai.html#t:RequestM">RequestM</a> m</li><li class="src short"><span class="keyword">data</span>  <a href="#t:RequestBodyLength">RequestBodyLength</a> <ul class="subs"><li>= <a href="#v:ChunkedBody">ChunkedBody</a>  </li><li>| <a href="#v:KnownLength">KnownLength</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Word.html#t:Word64">Word64</a>  </li></ul></li><li class="src short"><a href="#v:requestMethod">requestMethod</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Method.html#t:Method">Method</a></li><li class="src short"><a href="#v:httpVersion">httpVersion</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Version.html#t:HttpVersion">HttpVersion</a></li><li class="src short"><a href="#v:rawPathInfo">rawPathInfo</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:rawQueryString">rawQueryString</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:requestHeaders">requestHeaders</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:RequestHeaders">RequestHeaders</a></li><li class="src short"><a href="#v:isSecure">isSecure</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:remoteHost">remoteHost</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/network-2.4.1.2/html/Network-Socket-Internal.html#t:SockAddr">SockAddr</a></li><li class="src short"><a href="#v:pathInfo">pathInfo</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; [<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/text-0.11.3.1/html/Data-Text-Internal.html#t:Text">Text</a>]</li><li class="src short"><a href="#v:queryString">queryString</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-URI.html#t:Query">Query</a></li><li class="src short"><a href="#v:requestBody">requestBody</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> m <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:vault">vault</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/vault-0.3.0.3/html/Data-Vault-Lazy.html#t:Vault">Vault</a></li><li class="src short"><a href="#v:requestBodyLength">requestBodyLength</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a></li><li class="src short"><a href="#v:requestHeaderHost">requestHeaderHost</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:requestHeaderRange">requestHeaderRange</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:lazyRequestBody">lazyRequestBody</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Response">Response</a> = <a href="Network-Wai.html#t:ResponseM">ResponseM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:ResponseM">ResponseM</a> m</li><li class="src short"><span class="keyword">data</span>  <a href="#t:FilePart">FilePart</a>  = <a href="#v:FilePart">FilePart</a> {<ul class="subs"><li><a href="#v:filePartOffset">filePartOffset</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Integer">Integer</a></li><li><a href="#v:filePartByteCount">filePartByteCount</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Integer">Integer</a></li><li><a href="#v:filePartFileSize">filePartFileSize</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Integer">Integer</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:WithSource">WithSource</a> m a b = (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> m a -&gt; m b) -&gt; m b</li><li class="src short"><a href="#v:responseFile">responseFile</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-Wai.html#t:FilePart">FilePart</a> -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</li><li class="src short"><a href="#v:responseBuilder">responseBuilder</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a> -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</li><li class="src short"><a href="#v:responseLBS">responseLBS</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</li><li class="src short"><a href="#v:responseSource">responseSource</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> m (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Flush">Flush</a> <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</li><li class="src short"><a href="#v:responseSourceBracket">responseSourceBracket</a> ::  <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> a -&gt; (a -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> ()) -&gt; (a -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a>, <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>, <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Flush">Flush</a> <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>))) -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Network-Wai.html#t:ResponseM">ResponseM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a>)</li><li class="src short"><a href="#v:responseStatus">responseStatus</a> ::  <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a></li><li class="src short"><a href="#v:responseHeaders">responseHeaders</a> ::  <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a></li><li class="src short"><a href="#v:responseToSource">responseToSource</a> ::  <a href="Network-Wai.html#t:ResponseM">ResponseM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> -&gt; (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a>, <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>, <a href="Network-Wai.html#t:WithSource">WithSource</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Flush">Flush</a> <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) b)</li></ul></div><div id="interface"><h1 id="g:1">Types
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Application" class="def">Application</a> = <a href="Network-Wai.html#t:ApplicationM">ApplicationM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:ApplicationM" class="def">ApplicationM</a> m = <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; m (<a href="Network-Wai.html#t:ResponseM">ResponseM</a> m)</p><div class="doc"><p>The WAI application.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Middleware" class="def">Middleware</a> = MiddlewareM <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></p></div><h1 id="g:2">Request
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:RequestM" class="def">RequestM</a> m </p><div class="doc"><p>Information on the request sent by the client. This abstracts away the
 details of the underlying implementation.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Request" class="def">Request</a> = <a href="Network-Wai.html#t:RequestM">RequestM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></p></div><div class="top"><p class="src"><a name="v:defaultRequest" class="def">defaultRequest</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Network-Wai.html#t:RequestM">RequestM</a> m</p><div class="doc"><p>A default, blank request.
</p><p>Since 2.0.0
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:RequestBodyLength" class="def">RequestBodyLength</a>  </p><div class="doc"><p>The size of the request body. In the case of chunked bodies, the size will
 not be known.
</p><p>Since 1.4.0
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ChunkedBody" class="def">ChunkedBody</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:KnownLength" class="def">KnownLength</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Word.html#t:Word64">Word64</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><h2 id="g:3">Request accessors
</h2><div class="top"><p class="src"><a name="v:requestMethod" class="def">requestMethod</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Method.html#t:Method">Method</a></p><div class="doc"><p>Request method such as GET.
</p></div></div><div class="top"><p class="src"><a name="v:httpVersion" class="def">httpVersion</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Version.html#t:HttpVersion">HttpVersion</a></p><div class="doc"><p>HTTP version such as 1.1.
</p></div></div><div class="top"><p class="src"><a name="v:rawPathInfo" class="def">rawPathInfo</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>Extra path information sent by the client. The meaning varies slightly
 depending on backend; in a standalone server setting, this is most likely
 all information after the domain name. In a CGI application, this would be
 the information following the path to the CGI executable itself.
 Do not modify this raw value- modify pathInfo instead.
</p></div></div><div class="top"><p class="src"><a name="v:rawQueryString" class="def">rawQueryString</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>If no query string was specified, this should be empty. This value
 <em>will</em> include the leading question mark.
 Do not modify this raw value- modify queryString instead.
</p></div></div><div class="top"><p class="src"><a name="v:requestHeaders" class="def">requestHeaders</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:RequestHeaders">RequestHeaders</a></p><div class="doc"><p>A list of header (a pair of key and value) in an HTTP request.
</p></div></div><div class="top"><p class="src"><a name="v:isSecure" class="def">isSecure</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Was this request made over an SSL connection?
</p><p>Note that this value will <em>not</em> tell you if the client originally made
 this request over SSL, but rather whether the current connection is SSL.
 The distinction lies with reverse proxies. In many cases, the client will
 connect to a load balancer over SSL, but connect to the WAI handler
 without SSL. In such a case, <code>isSecure</code> will be <code>False</code>, but from a user
 perspective, there is a secure connection.
</p></div></div><div class="top"><p class="src"><a name="v:remoteHost" class="def">remoteHost</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/network-2.4.1.2/html/Network-Socket-Internal.html#t:SockAddr">SockAddr</a></p><div class="doc"><p>The client's host information.
</p></div></div><div class="top"><p class="src"><a name="v:pathInfo" class="def">pathInfo</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; [<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/text-0.11.3.1/html/Data-Text-Internal.html#t:Text">Text</a>]</p><div class="doc"><p>Path info in individual pieces- the url without a hostname/port and without a query string, split on forward slashes,
</p></div></div><div class="top"><p class="src"><a name="v:queryString" class="def">queryString</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-URI.html#t:Query">Query</a></p><div class="doc"><p>Parsed query string information
</p></div></div><div class="top"><p class="src"><a name="v:requestBody" class="def">requestBody</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> m <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>A request body provided as <code>Source</code>.
</p></div></div><div class="top"><p class="src"><a name="v:vault" class="def">vault</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/vault-0.3.0.3/html/Data-Vault-Lazy.html#t:Vault">Vault</a></p><div class="doc"><p>A location for arbitrary data to be shared by applications and middleware.
</p></div></div><div class="top"><p class="src"><a name="v:requestBodyLength" class="def">requestBodyLength</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="Network-Wai.html#t:RequestBodyLength">RequestBodyLength</a></p><div class="doc"><p>The size of the request body. In the case of a chunked request body, this may be unknown.
</p><p>Since 1.4.0
</p></div></div><div class="top"><p class="src"><a name="v:requestHeaderHost" class="def">requestHeaderHost</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>The value of the Host header in a HTTP request.
</p><p>Since 2.0.0
</p></div></div><div class="top"><p class="src"><a name="v:requestHeaderRange" class="def">requestHeaderRange</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> m -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>The value of the Range header in a HTTP request.
</p><p>Since 2.0.0
</p></div></div><div class="top"><p class="src"><a name="v:lazyRequestBody" class="def">lazyRequestBody</a> :: <a href="Network-Wai.html#t:RequestM">RequestM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></p><div class="doc"><p>Get the request body as a lazy ByteString. This uses lazy I/O under the
 surface, and therefore all typical warnings regarding lazy I/O apply.
</p><p>Since 1.4.1
</p></div></div><h1 id="g:4">Response
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Response" class="def">Response</a> = <a href="Network-Wai.html#t:ResponseM">ResponseM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></p></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:ResponseM" class="def">ResponseM</a> m </p><div class="doc"><p>The strange structure of the third field or ResponseSource is to allow for
 exception-safe resource allocation. As an example:
</p><pre> app :: Application
 app _ = return $ ResponseSource status200 [] $ \f -&gt; bracket
     (putStrLn &quot;Allocation&quot; &gt;&gt; return 5)
     (\i -&gt; putStrLn $ &quot;Cleaning up: &quot; ++ show i)
     (\_ -&gt; f $ do
         yield $ Chunk $ fromByteString &quot;Hello &quot;
         yield $ Chunk $ fromByteString &quot;World!&quot;)
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:FilePart" class="def">FilePart</a>  </p><div class="doc"><p>Information on which part to be sent.
   Sophisticated application handles Range (and If-Range) then
   create <code><a href="Network-Wai.html#t:FilePart">FilePart</a></code>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FilePart" class="def">FilePart</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:filePartOffset" class="def">filePartOffset</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Integer">Integer</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:filePartByteCount" class="def">filePartByteCount</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Integer">Integer</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:filePartFileSize" class="def">filePartFileSize</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Integer">Integer</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:FilePart" class="caption collapser" onclick="toggleSection('i:FilePart')">Instances</p><div id="section.i:FilePart" class="show"><table><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Network-Wai.html#t:FilePart">FilePart</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:WithSource" class="def">WithSource</a> m a b = (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> m a -&gt; m b) -&gt; m b</p><div class="doc"><p>Auxiliary type for <code><a href="Network-Wai-Internal.html#v:ResponseSource">ResponseSource</a></code>.
</p></div></div><h2 id="g:5">ResponseM composers
</h2><div class="top"><p class="src"><a name="v:responseFile" class="def">responseFile</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Network-Wai.html#t:FilePart">FilePart</a> -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from a file.
</p></div></div><div class="top"><p class="src"><a name="v:responseBuilder" class="def">responseBuilder</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a> -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from <code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></code>.
</p><p>Some questions and answers about the usage of <code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></code> here:
</p><p>Q1. Shouldn't it be at the user's discretion to use Builders internally and
 then create a stream of ByteStrings?
</p><p>A1. That would be less efficient, as we wouldn't get cheap concatenation
 with the response headers.
</p><p>Q2. Isn't it really inefficient to convert from ByteString to Builder, and
 then right back to ByteString?
</p><p>A2. No. If the ByteStrings are small, then they will be copied into a larger
 buffer, which should be a performance gain overall (less system calls). If
 they are already large, then blaze-builder uses an InsertByteString
 instruction to avoid copying.
</p><p>Q3. Doesn't this prevent us from creating comet-style servers, since data
 will be cached?
</p><p>A3. You can force blaze-builder to output a ByteString before it is an
 optimal size by sending a flush command.
</p></div></div><div class="top"><p class="src"><a name="v:responseLBS" class="def">responseLBS</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from <code><a href="file:///usr/share/doc/ghc/html/libraries/bytestring-0.10.0.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></code>. This is a wrapper for
   <code><a href="Network-Wai.html#v:responseBuilder">responseBuilder</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:responseSource" class="def">responseSource</a> ::  <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a> -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> m (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Flush">Flush</a> <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) -&gt; <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m</p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> from <code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:responseSourceBracket" class="def">responseSourceBracket</a> ::  <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> a -&gt; (a -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> ()) -&gt; (a -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a>, <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>, <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Flush">Flush</a> <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>))) -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="Network-Wai.html#t:ResponseM">ResponseM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a>)</p><div class="doc"><p>Creating <code><a href="Network-Wai.html#t:Response">Response</a></code> with allocated resource safely released.
</p><ul><li> The first argument is an action to allocate resource.
</li><li> The second argument is a function to release the resource.
</li><li> The third argument is a function to create
     (<code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a></code>,<code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a></code>,<code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Source">Source</a></code> <code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a></code> (<code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Flush">Flush</a></code> <code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a></code>))
     from the resource.
</li></ul></div></div><h1 id="g:6">ResponseM accessors
</h1><div class="top"><p class="src"><a name="v:responseStatus" class="def">responseStatus</a> ::  <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a></p><div class="doc"><p>Accessing <code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a></code> in <code><a href="Network-Wai.html#t:Response">Response</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:responseHeaders" class="def">responseHeaders</a> ::  <a href="Network-Wai.html#t:ResponseM">ResponseM</a> m -&gt; <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a></p><div class="doc"><p>Accessing <code><a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a></code> in <code><a href="Network-Wai.html#t:Response">Response</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:responseToSource" class="def">responseToSource</a> ::  <a href="Network-Wai.html#t:ResponseM">ResponseM</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> -&gt; (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Status.html#t:Status">Status</a>, <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/http-types-0.8.3/html/Network-HTTP-Types-Header.html#t:ResponseHeaders">ResponseHeaders</a>, <a href="Network-Wai.html#t:WithSource">WithSource</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/conduit-1.0.9.3/html/Data-Conduit.html#t:Flush">Flush</a> <a href="file:///usr/local/share/doc/x86_64-linux-ghc-7.6.3/blaze-builder-0.3.3.2/html/Blaze-ByteString-Builder-Internal-Types.html#t:Builder">Builder</a>) b)</p><div class="doc"><p>Converting the body information in <code><a href="Network-Wai.html#t:Response">Response</a></code> to <code>Source</code>.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>